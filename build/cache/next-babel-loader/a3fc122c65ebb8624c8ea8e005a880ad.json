{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { FormControl, Input, Button, Textarea, Spinner, Box, Flex } from \"@chakra-ui/react\";\nimport keys from '../../apiKeys';\nimport Toast from '../Toast/main';\nimport axios from \"axios\";\n\nfunction ContactForm(props) {\n  var _useState = useState(''),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(''),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      subject = _useState3[0],\n      setSubject = _useState3[1];\n\n  var _useState4 = useState(''),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  var _useState5 = useState(''),\n      phone = _useState5[0],\n      setPhone = _useState5[1];\n\n  var form = {\n    name: name,\n    email: email,\n    message: message,\n    contactNumber: phone,\n    subject: subject\n  };\n\n  var _useState6 = useState(false),\n      isLoading = _useState6[0],\n      loadingState = _useState6[1];\n\n  var _useState7 = useState(''),\n      formResponse = _useState7[0],\n      setResponse = _useState7[1];\n\n  var onChange = function onChange(event) {\n    var target = event.target;\n    var fieldname = target.name;\n    var value = target.value;\n\n    switch (fieldname) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'message':\n        setMessage(value);\n        break;\n\n      case 'phone':\n        setPhone(value);\n        break;\n\n      case 'email':\n        setEmail(value);\n        break;\n\n      case 'subject':\n        setSubject(value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  var refreshForm = function refreshForm(res) {\n    loadingState(false);\n    console.log(res);\n    setResponse(res);\n    setResponse('');\n\n    if (res.status == 200) {\n      setTimeout(function () {\n        setName('');\n        setEmail('');\n        setMessage('');\n        setPhone('');\n        setSubject('');\n      }, 1000);\n    }\n  };\n\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n    loadingState(true);\n    axios.post('/api/contact/submit', form).then(function (response) {\n      return refreshForm(response);\n    }, function (error) {\n      return refreshForm(error);\n    });\n  };\n\n  return __jsx(Box, {\n    p: 5\n  }, __jsx(\"form\", {\n    onSubmit: onSubmit\n  }, __jsx(\"input\", {\n    type: \"hidden\",\n    name: \"_redirect\",\n    value: \"false\"\n  }), __jsx(Flex, {\n    wrap: \"wrap\"\n  }, __jsx(FormControl, {\n    px: 2,\n    width: \"100%\",\n    isRequired: true\n  }, __jsx(Input, {\n    placeholder: \"Name\",\n    type: \"text\",\n    p: 6,\n    name: \"name\",\n    value: name,\n    onChange: onChange\n  })), __jsx(FormControl, {\n    px: 2,\n    width: [\"100%\", \"100%\", \"50%\"],\n    mt: 4,\n    isRequired: true\n  }, __jsx(Input, {\n    p: 6,\n    placeholder: \"Email\",\n    type: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: onChange\n  })), __jsx(FormControl, {\n    px: 2,\n    width: [\"100%\", \"100%\", \"50%\"],\n    mt: 4,\n    isRequired: true\n  }, __jsx(Input, {\n    p: 6,\n    placeholder: \"Phone Number\",\n    type: \"tel\",\n    pattern: \"[0-9]{10}\",\n    name: \"phone\",\n    value: phone,\n    onChange: onChange\n  })), __jsx(FormControl, {\n    px: 2,\n    width: \"100%\",\n    mt: 4\n  }, __jsx(Input, {\n    p: 6,\n    placeholder: \"Subject\",\n    name: \"subject\",\n    value: subject,\n    onChange: onChange\n  })), __jsx(FormControl, {\n    px: 2,\n    width: \"100%\",\n    mt: 4,\n    isRequired: true\n  }, __jsx(Textarea, {\n    p: 6,\n    placeholder: \"Message\",\n    height: \"220px\",\n    size: \"lg\",\n    name: \"message\",\n    value: message,\n    onChange: onChange,\n    resize: \"vertical\"\n  })), __jsx(Button, {\n    mt: 10,\n    type: \"submit\",\n    size: \"lg\",\n    colorScheme: \"primary\",\n    className: \"primary-btn\",\n    width: \"100%\"\n  }, \"Submit\", isLoading && __jsx(Spinner, {\n    thickness: \"4px\",\n    speed: \"1s\",\n    emptyColor: \"gray.200\",\n    color: \"blue.500\",\n    size: \"sm\"\n  })))), formResponse && __jsx(Toast, {\n    response: formResponse\n  }));\n}\n\nexport default ContactForm;","map":null,"metadata":{},"sourceType":"module"}